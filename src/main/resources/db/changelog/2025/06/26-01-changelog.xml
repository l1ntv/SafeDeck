<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.31.xsd">

    <changeSet id="1750948462324-1" author="lintv (generated)">
        <createSequence incrementBy="50" sequenceName="default_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1750948462324-2" author="lintv (generated)">
        <createTable tableName="board">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_board"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="owner_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="background_color_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-3" author="lintv (generated)">
        <createTable tableName="card">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_card"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="background_color_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="board_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="field" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-4" author="lintv (generated)">
        <createTable tableName="client">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_client"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="password" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="public_name" type="VARCHAR(255)"/>
            <column name="country" type="VARCHAR(255)"/>
            <column name="provider" type="VARCHAR(255)"/>
            <column name="device" type="VARCHAR(255)"/>
            <column name="register_ip_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="is_subscriber" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-5" author="lintv (generated)">
        <createTable tableName="client_to_subscription">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_client_to_subscription"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="client_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_date_start" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_date_end" type="DATE"/>
            <column name="subscription_plan_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="sale_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-6" author="lintv (generated)">
        <createTable tableName="clients_to_boards">
            <column name="board_id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_clients_to_boards"/>
            </column>
            <column name="client_id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_clients_to_boards"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-7" author="lintv (generated)">
        <createTable tableName="color">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_color"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="rgb_code" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-8" author="lintv (generated)">
        <createTable tableName="control_question">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_control_question"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="question" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="answer" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="board_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-9" author="lintv (generated)">
        <createTable tableName="ip">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ip"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="ip" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-10" author="lintv (generated)">
        <createTable tableName="role">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_role"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="board_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="is_personal_role" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="is_editor" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-11" author="lintv (generated)">
        <createTable tableName="role_to_card">
            <column name="card_id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_role_to_card"/>
            </column>
            <column name="role_id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_role_to_card"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-12" author="lintv (generated)">
        <createTable tableName="role_to_client">
            <column name="client_id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_role_to_client"/>
            </column>
            <column name="role_id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_role_to_client"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-13" author="lintv (generated)">
        <createTable tableName="sale">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_sale"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="month_left_bound" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="discount_percent" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-14" author="lintv (generated)">
        <createTable tableName="secure_logs">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_secure_logs"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="board_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="card_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ip_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="view_time" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="status_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="country" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="device" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="provider" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-15" author="lintv (generated)">
        <createTable tableName="send_secure">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_send_secure"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="token" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="card_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-16" author="lintv (generated)">
        <createTable tableName="status">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_status"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-17" author="lintv (generated)">
        <createTable tableName="subscription_plan">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_subscription_plan"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="max_employee_count" type="INT"/>
            <column name="max_price_per_month" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-18" author="lintv (generated)">
        <createTable tableName="trusted_board_ip">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_trusted_board_ip"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="board_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ip_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-19" author="lintv (generated)">
        <createTable tableName="trusted_user_ip">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_trusted_user_ip"/>
            </column>
            <column name="created_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ip_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1750948462324-20" author="lintv (generated)">
        <addUniqueConstraint columnNames="email" constraintName="UC_CLIENT_EMAIL" tableName="client"/>
    </changeSet>
    <changeSet id="1750948462324-21" author="lintv (generated)">
        <addUniqueConstraint columnNames="ip" constraintName="UC_IP_IP" tableName="ip"/>
    </changeSet>
    <changeSet id="1750948462324-22" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="background_color_id" baseTableName="board"
                                 constraintName="FK_BOARD_ON_BACKGROUND_COLOR" referencedColumnNames="id"
                                 referencedTableName="color"/>
    </changeSet>
    <changeSet id="1750948462324-23" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="owner_id" baseTableName="board" constraintName="FK_BOARD_ON_OWNER"
                                 referencedColumnNames="id" referencedTableName="client"/>
    </changeSet>
    <changeSet id="1750948462324-24" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="background_color_id" baseTableName="card"
                                 constraintName="FK_CARD_ON_BACKGROUND_COLOR" referencedColumnNames="id"
                                 referencedTableName="color"/>
    </changeSet>
    <changeSet id="1750948462324-25" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="board_id" baseTableName="card" constraintName="FK_CARD_ON_BOARD"
                                 referencedColumnNames="id" referencedTableName="board"/>
    </changeSet>
    <changeSet id="1750948462324-26" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="register_ip_id" baseTableName="client"
                                 constraintName="FK_CLIENT_ON_REGISTER_IP" referencedColumnNames="id"
                                 referencedTableName="ip"/>
    </changeSet>
    <changeSet id="1750948462324-27" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="client_id" baseTableName="client_to_subscription"
                                 constraintName="FK_CLIENT_TO_SUBSCRIPTION_ON_CLIENT" referencedColumnNames="id"
                                 referencedTableName="client"/>
    </changeSet>
    <changeSet id="1750948462324-28" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="sale_id" baseTableName="client_to_subscription"
                                 constraintName="FK_CLIENT_TO_SUBSCRIPTION_ON_SALE" referencedColumnNames="id"
                                 referencedTableName="sale"/>
    </changeSet>
    <changeSet id="1750948462324-29" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="subscription_plan_id" baseTableName="client_to_subscription"
                                 constraintName="FK_CLIENT_TO_SUBSCRIPTION_ON_SUBSCRIPTION_PLAN"
                                 referencedColumnNames="id" referencedTableName="subscription_plan"/>
    </changeSet>
    <changeSet id="1750948462324-30" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="board_id" baseTableName="clients_to_boards"
                                 constraintName="FK_CLITOBOA_ON_BOARD" referencedColumnNames="id"
                                 referencedTableName="board"/>
    </changeSet>
    <changeSet id="1750948462324-31" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="client_id" baseTableName="clients_to_boards"
                                 constraintName="FK_CLITOBOA_ON_CLIENT" referencedColumnNames="id"
                                 referencedTableName="client"/>
    </changeSet>
    <changeSet id="1750948462324-32" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="board_id" baseTableName="control_question"
                                 constraintName="FK_CONTROL_QUESTION_ON_BOARD" referencedColumnNames="id"
                                 referencedTableName="board"/>
    </changeSet>
    <changeSet id="1750948462324-33" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="role_to_card"
                                 constraintName="FK_ROLTOCAR_ON_CARD" referencedColumnNames="id"
                                 referencedTableName="card"/>
    </changeSet>
    <changeSet id="1750948462324-34" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="role_to_card"
                                 constraintName="FK_ROLTOCAR_ON_ROLE" referencedColumnNames="id"
                                 referencedTableName="role"/>
    </changeSet>
    <changeSet id="1750948462324-35" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="client_id" baseTableName="role_to_client"
                                 constraintName="FK_ROLTOCLI_ON_CLIENT" referencedColumnNames="id"
                                 referencedTableName="client"/>
    </changeSet>
    <changeSet id="1750948462324-36" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="role_to_client"
                                 constraintName="FK_ROLTOCLI_ON_ROLE" referencedColumnNames="id"
                                 referencedTableName="role"/>
    </changeSet>
    <changeSet id="1750948462324-37" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="board_id" baseTableName="secure_logs"
                                 constraintName="FK_SECURE_LOGS_ON_BOARD" referencedColumnNames="id"
                                 referencedTableName="board"/>
    </changeSet>
    <changeSet id="1750948462324-38" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="secure_logs"
                                 constraintName="FK_SECURE_LOGS_ON_CARD" referencedColumnNames="id"
                                 referencedTableName="card"/>
    </changeSet>
    <changeSet id="1750948462324-39" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="ip_id" baseTableName="secure_logs"
                                 constraintName="FK_SECURE_LOGS_ON_IP" referencedColumnNames="id"
                                 referencedTableName="ip"/>
    </changeSet>
    <changeSet id="1750948462324-40" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="status_id" baseTableName="secure_logs"
                                 constraintName="FK_SECURE_LOGS_ON_STATUS" referencedColumnNames="id"
                                 referencedTableName="status"/>
    </changeSet>
    <changeSet id="1750948462324-41" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="secure_logs"
                                 constraintName="FK_SECURE_LOGS_ON_USER" referencedColumnNames="id"
                                 referencedTableName="client"/>
    </changeSet>
    <changeSet id="1750948462324-42" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="card_id" baseTableName="send_secure"
                                 constraintName="FK_SEND_SECURE_ON_CARD" referencedColumnNames="id"
                                 referencedTableName="card"/>
    </changeSet>
    <changeSet id="1750948462324-43" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="board_id" baseTableName="trusted_board_ip"
                                 constraintName="FK_TRUSTED_BOARD_IP_ON_BOARD" referencedColumnNames="id"
                                 referencedTableName="board"/>
    </changeSet>
    <changeSet id="1750948462324-44" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="ip_id" baseTableName="trusted_board_ip"
                                 constraintName="FK_TRUSTED_BOARD_IP_ON_IP" referencedColumnNames="id"
                                 referencedTableName="ip"/>
    </changeSet>
    <changeSet id="1750948462324-45" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="ip_id" baseTableName="trusted_user_ip"
                                 constraintName="FK_TRUSTED_USER_IP_ON_IP" referencedColumnNames="id"
                                 referencedTableName="ip"/>
    </changeSet>
    <changeSet id="1750948462324-46" author="lintv (generated)">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="trusted_user_ip"
                                 constraintName="FK_TRUSTED_USER_IP_ON_USER" referencedColumnNames="id"
                                 referencedTableName="client"/>
    </changeSet>
</databaseChangeLog>